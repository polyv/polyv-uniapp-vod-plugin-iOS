!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=77)}({0:function(t,e,o){"use strict";function n(t,e,o,n,i,r,l,a,d,s){var u,c="function"==typeof t?t.options:t;if(d){c.components||(c.components={});var p=Object.prototype.hasOwnProperty;for(var f in d)p.call(d,f)&&!p.call(c.components,f)&&(c.components[f]=d[f])}if(s&&((s.beforeCreate||(s.beforeCreate=[])).unshift((function(){this[s.__module]=this})),(c.mixins||(c.mixins=[])).push(s)),e&&(c.render=e,c.staticRenderFns=o,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),l?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=u):i&&(u=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var g=c.render;c.render=function(t,e){return u.call(e),g(t,e)}}else{var v=c.beforeCreate;c.beforeCreate=v?[].concat(v,u):[u]}return{exports:t,options:c}}o.d(e,"a",(function(){return n}))},1:function(t,e){t.exports={"uni-icon":{fontFamily:"uniicons",fontWeight:"normal"},"uni-bg-red":{backgroundColor:"#F76260",color:"#FFFFFF"},"uni-bg-green":{backgroundColor:"#09BB07",color:"#FFFFFF"},"uni-bg-blue":{backgroundColor:"#007AFF",color:"#FFFFFF"},"uni-container":{flex:1,paddingTop:"15",paddingRight:"15",paddingBottom:"15",paddingLeft:"15",backgroundColor:"#f8f8f8"},"uni-padding-lr":{paddingLeft:"15",paddingRight:"15"},"uni-padding-tb":{paddingTop:"15",paddingBottom:"15"},"uni-header-logo":{paddingTop:"15",paddingRight:"15",paddingBottom:"15",paddingLeft:"15",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"10upx"},"uni-header-image":{width:"80",height:"80"},"uni-hello-text":{marginBottom:"20"},"hello-text":{color:"#7A7E83",fontSize:"14",lineHeight:"20"},"hello-link":{color:"#7A7E83",fontSize:"14",lineHeight:"20"},"uni-panel":{marginBottom:"12"},"uni-panel-h":{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",paddingTop:"12",paddingRight:"12",paddingBottom:"12",paddingLeft:"12"},"uni-panel-h-on":{backgroundColor:"#f0f0f0"},"uni-panel-text":{flex:1,color:"#000000",fontSize:"14",fontWeight:"normal"},"uni-panel-icon":{marginLeft:"15",color:"#999999",fontSize:"14",fontWeight:"normal",transform:"rotate(0deg)",transitionDuration:0,transitionProperty:"transform"},"@TRANSITION":{"uni-panel-icon":{duration:0,property:"transform"}},"uni-panel-icon-on":{transform:"rotate(180deg)"},"uni-navigate-item":{flexDirection:"row",alignItems:"center",backgroundColor:"#FFFFFF",borderTopStyle:"solid",borderTopColor:"#f0f0f0",borderTopWidth:"1",paddingTop:"12",paddingRight:"12",paddingBottom:"12",paddingLeft:"12","backgroundColor:active":"#f8f8f8"},"uni-navigate-text":{flex:1,color:"#000000",fontSize:"14",fontWeight:"normal"},"uni-navigate-icon":{marginLeft:"15",color:"#999999",fontSize:"14",fontWeight:"normal"},"uni-list-cell":{position:"relative",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},"uni-list-cell-pd":{paddingTop:"22upx",paddingRight:"30upx",paddingBottom:"22upx",paddingLeft:"30upx"},"flex-r":{flexDirection:"row"},"flex-c":{flexDirection:"column"},"a-i-c":{alignItems:"center"},"j-c-c":{justifyContent:"center"},"list-item":{flexDirection:"row",paddingTop:"10",paddingRight:"10",paddingBottom:"10",paddingLeft:"10"}}},31:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return weex.requireModule(t)}},33:function(t,e,o){"use strict";var n=o(64),i=o(42),r=o(0);var l=Object(r.a)(i.default,n.b,n.c,!1,null,null,"103d20e8",!1,n.a,void 0);(function(t){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(o(71).default,this.options.style):Object.assign(this.options.style,o(71).default)}).call(l),e.default=l.exports},42:function(t,e,o){"use strict";var n=o(43),i=o.n(n);e.default=i.a},43:function(t,e,o){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t("PLV-VodUniPlugin-ConfigModule");var n=t("PLV-VodUniPlugin-DownloadModule"),i={data:function(){return{downloadList:[],progressVid:{}}},onLoad:function(){n.setDownloadCallbackInterval({seconds:.5}),this.listenDownloadStatus(),this.getDownloadList()},onUnload:function(){n.setListenDownloadStatus(null)},methods:{getDownloadList:function(){var t=this;n.getDownloadList(null,(function(e){o("log",JSON.stringify(e)," at pages/demo/ext-download.nvue:59");for(var n={},i=0;i<e.downloadList.length;i++){var r=e.downloadList[i];n[r.vid]={downloadPercentage:r.progress.toFixed(2),downloadStatus:"",errMsg:""}}o("log","*****"+JSON.stringify(n)," at pages/demo/ext-download.nvue:69"),t.progressVid=n,t.downloadList=e.downloadList}))},listenDownloadStatus:function(){var t=this;n.setListenDownloadStatus(null,(function(e){for(var n in e){var i=t.progressVid[n]?t.progressVid[n]:{},r=e[n];r.downloadPercentage&&(i.downloadPercentage=r.downloadPercentage.toFixed(2)),r.downloadStatus&&(i.downloadStatus=r.downloadStatus),t.progressVid[n]=i}o("log",t.progressVid," at pages/demo/ext-download.nvue:89")}))},downloadVideo:function(t){o("log",t," at pages/demo/ext-download.nvue:93"),n.startDownloader({vid:t},(function(t){t.errMsg&&uni.showToast({title:"\u5f00\u59cb\u4e0b\u8f7d\u89c6\u9891\u5931\u8d25\uff1a"+t.errMsg,icon:"none"})}))},stopVideo:function(t){n.stopDownloader({vid:t},(function(t){t.errMsg&&uni.showToast({title:"\u505c\u6b62\u4e0b\u8f7d\u89c6\u9891\u5931\u8d25\uff1a"+t.errMsg,icon:"none"})}))},playVideo:function(t){o("log",t," at pages/demo/ext-download.nvue:118"),uni.navigateTo({url:"/pages/demo/ext-ply-player?id="+t})},downloadAll:function(){n.startAllDownloader(),uni.showToast({title:"start download all video",icon:"none"})},stopAll:function(){n.stopAllDownloader(),uni.showToast({title:"stop download all video",icon:"none"})},deleteVideo:function(t){n.deleteVideo({vid:t},(function(t){t.errMsg?uni.showToast({title:"\u5220\u9664\u89c6\u9891\u5931\u8d25\uff1a"+t.errMsg,icon:"none"}):uni.showToast({title:"\u5220\u9664\u6210\u529f",icon:"none"})})),this.getDownloadList()},clearDownload:function(){n.deleteAllVideo(),uni.showToast({title:"delete all download video",icon:"none"}),this.getDownloadList()}}};e.default=i}).call(this,o(31).default,o(8).default)},44:function(t,e){t.exports={"video-body":{fontSize:"32rpx"},"video-list-body":{paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"},"video-list":{paddingTop:"10rpx",paddingRight:"20rpx",paddingBottom:0,paddingLeft:"20rpx",backgroundColor:"#FFFFFF",marginBottom:"20rpx"},"action-cell":{flexDirection:"row",textAlign:"center",paddingTop:"20rpx",paddingRight:0,paddingBottom:"20rpx",paddingLeft:0},"title-cell-view":{flexDirection:"row",paddingTop:"20rpx"},"title-cell-title":{fontSize:"28rpx",width:"300rpx",height:"45rpx",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"title-cell-status":{fontSize:"32rpx",fontWeight:"bold",paddingLeft:"30",color:"#007AFF"},"title-cell-progress":{fontSize:"26rpx"},"play-btn":{flex:.3,color:"#FFFFFF",backgroundColor:"#007AFF"},"download-btn":{marginLeft:"20rpx",flex:.3,color:"#FFFFFF",textAlign:"center",fontSize:"32rpx",paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0,backgroundColor:"#007AFF"},"fix-bottom":{textAlign:"center",backgroundColor:"#FFFFFF",fontSize:"32rpx",flexDirection:"row",paddingTop:"10rpx",paddingRight:0,paddingBottom:"10rpx",paddingLeft:0},"fix-bottom-item":{flex:1,borderLeftColor:"#007AFF",borderLeftWidth:"1",textAlign:"center",color:"#007AFF"}}},6:function(t,e,o){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(o(7).default,Vue.prototype.__$appStyle__)},64:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true"}},[o("div",{staticClass:["video-body"]},[o("view",{staticClass:["video-list-body"]},t._l(t.downloadList,(function(e,n){return o("view",{staticClass:["video-list"]},[o("view",{staticClass:["title-cell-view"]},[o("u-text",{staticClass:["title-cell-title"]},[t._v(t._s(e.title))]),o("u-text",{staticClass:["title-cell-status"]},[t._v(t._s(t.progressVid[e.vid].downloadStatus))])]),o("u-text",{staticClass:["title-cell-progress"]},[t._v("\u89c6\u9891vid: "+t._s(e.vid))]),o("view",[o("progress",{attrs:{percent:t.progressVid[e.vid].downloadPercentage,showInfo:!0,strokeWidth:"3"}})],1),o("view",{staticClass:["action-cell"]},[e.progress<100?o("u-text",{staticClass:["download-btn"],on:{click:function(o){t.stopVideo(e.vid)}}},[t._v("\u505c\u6b62\u4e0b\u8f7d")]):t._e(),e.progress<100?o("u-text",{staticClass:["download-btn"],on:{click:function(o){t.downloadVideo(e.vid)}}},[t._v("\u7ee7\u7eed\u4e0b\u8f7d")]):t._e(),o("u-text",{staticClass:["download-btn"],on:{click:function(o){t.deleteVideo(e.vid)}}},[t._v("\u5220\u9664")]),o("u-text",{staticClass:["download-btn"],on:{click:function(o){t.playVideo(e.vid)}}},[t._v("\u64ad\u653e")])])])})),0),o("view",{staticClass:["fix-bottom"]},[o("u-text",{staticClass:["fix-bottom-item"],staticStyle:{borderLeftWidth:"none"},on:{click:t.downloadAll}},[t._v("\u5168\u90e8\u5f00\u59cb")]),o("u-text",{staticClass:["fix-bottom-item"],on:{click:t.stopAll}},[t._v("\u5168\u90e8\u6682\u505c")]),o("u-text",{staticClass:["fix-bottom-item"],on:{click:t.clearDownload}},[t._v("\u6e05\u7a7a\u4e0b\u8f7d")])])])])},i=[]},7:function(t,e,o){"use strict";o.r(e);var n=o(1),i=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e.default=i.a},71:function(t,e,o){"use strict";o.r(e);var n=o(44),i=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e.default=i.a},77:function(t,e,o){"use strict";o.r(e);o(6);var n=o(33);"undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(o){return e.resolve(t()).then((function(){return o}))}),(function(o){return e.resolve(t()).then((function(){throw o}))}))}),n.default.mpType="page",n.default.route="pages/demo/ext-download",n.default.el="#root",new Vue(n.default)},8:function(t,e,o){"use strict";function n(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function i(){return"string"==typeof __channelId__&&__channelId__}function r(t,e){switch(n(e)){case"Function":return"function() { [native code] }";default:return e}}Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];console[t].apply(console,o)},e.default=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var l=e.shift();if(i())return e.push(e.pop().replace("at ","uni-app:///")),console[l].apply(console,e);var a=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(o){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var o=n(t).toUpperCase();t="NUMBER"===o||"BOOLEAN"===o?"---BEGIN:"+o+"---"+t+"---END:"+o+"---":String(t)}return t})),d="";if(a.length>1){var s=a.pop();d=a.join("---COMMA---"),0===s.indexOf(" at ")?d+=s:d+="---COMMA---"+s}else d=a[0];console[l](d)}}});